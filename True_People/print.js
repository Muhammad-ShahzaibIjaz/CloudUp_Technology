/* @license 
 * jQuery.print, version 1.6.2
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
*--------------------------------------------------------------------------*/ !function(e){"use strict";function t(t,r,n){var a,i,o,l,c,d=e(t),f=d.clone(r,n),s=d.find("textarea").add(d.filter("textarea")),p=f.find("textarea").add(f.filter("textarea")),h=d.find("select").add(d.filter("select")),u=f.find("select").add(f.filter("select")),y=d.find("canvas").add(d.filter("canvas")),m=f.find("canvas").add(f.filter("canvas"));for(a=0,i=s.length;a<i;++a)e(p[a]).val(e(s[a]).val());for(a=0,i=h.length;a<i;++a)for(o=0,l=h[a].options.length;o<l;++o)!0===h[a].options[o].selected&&(u[a].options[o].selected=!0);for(a=0,i=y.length;a<i;++a)(c=y[a].getContext("2d"))&&(m[a].getContext("2d").drawImage(y[a],0,0),e(m[a]).attr("data-jquery-print",c.canvas.toDataURL()));return f}function r(r){var n=e("");try{n=t(r)}catch(a){n=e("<span />").html(r)}return n}function n(t,r,n){var a=e.Deferred();try{t=t.contentWindow||t.contentDocument||t;try{t.resizeTo(window.innerWidth,window.innerHeight)}catch(i){console.warn(i)}var o=t.document||t.contentDocument||t;n.doctype&&o.write(n.doctype),o.write(r);try{for(var l=o.querySelectorAll("canvas"),c=0;c<l.length;c++){var d=l[c].getContext("2d"),f=new Image;f.onload=function(){d.drawImage(f,0,0)},f.src=l[c].getAttribute("data-jquery-print")}}catch(s){console.warn(s)}o.close();var p=!1,h=function(){if(!p){t.focus();try{t.document.execCommand("print",!1,null)||t.print(),e("body").focus()}catch(r){t.print()}t.close(),p=!0,a.resolve()}};e(t).on("load",h),setTimeout(h,n.timeout)}catch(u){a.reject(u)}return a}function a(e,t){return n(window.open(),e,t).always(function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function i(e){return!!("object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}e.print=e.fn.print=function(){var o,l,c,d,f,s,p=this;p instanceof e&&(p=p.get(0)),i(p)?(s=e(p),arguments.length>0&&(f=arguments[0])):arguments.length>0?(s=e(arguments[0]),i(s[0])?arguments.length>1&&(f=arguments[1]):(f=arguments[0],s=e("html"))):s=e("html");var h={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:e.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"};f=e.extend({},h,f||{});var u=e("");if(f.globalStyles?u=e("style, link, meta, base, title"):f.mediaPrint&&(u=e("link[media=print]")),f.stylesheet){(e.isArray?e.isArray:Array.isArray)(f.stylesheet)||(f.stylesheet=[f.stylesheet]);for(var y=0;y<f.stylesheet.length;y++)u=e.merge(u,e('<link rel="stylesheet" href="'+f.stylesheet[y]+'">'))}var m=t(s,!0,!0);if((m=e("<span/>").append(m)).find(f.noPrintSelector).remove(),m.append(t(u)),f.title){var $=e("title",m);0===$.length&&($=e("<title />"),m.append($)),$.text(f.title)}m.append(r(f.append)),m.prepend(r(f.prepend)),f.manuallyCopyFormValues&&(m.find("input").each(function(){var t=e(this);t.is("[type='radio']")||t.is("[type='checkbox']")?t.prop("checked")&&t.attr("checked","checked"):t.attr("value",t.val())}),m.find("select").each(function(){e(this).find(":selected").attr("selected","selected")}),m.find("textarea").each(function(){var t=e(this);t.text(t.val())}));var v=m.html();try{f.deferred.notify("generated_markup",v,m)}catch(g){console.warn("Error notifying deferred",g)}if(m.remove(),f.iframe)try{o=v,l=f,d=(c=e(l.iframe+"")).length,0===d&&(c=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),n(c.get(0),o,l).done(function(){setTimeout(function(){0===d&&c.remove()},1e3)}).fail(function(e){console.error("Failed to print from iframe",e),a(o,l)}).always(function(){try{l.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}catch(w){console.error("Failed to print from iframe",w.stack,w.message),a(v,f)}else a(v,f);return this}}(jQuery);